(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{205:function(e,t,n){(function(t){const r=n(6),i=n(2),s=n(296);n(206),n(212),e.exports=r.View.extend({template:s,className:"modal-dialog",ui:{form:"form",buttons:".modal-footer button",cancel:"button.cancel",save:"button.save",options:".option-item",value:'input[name="value"]',redirect:".redirect-input",html:".html-content"},events:{"change @ui.value":function(e){let t=this.ui.value.filter(":checked").val();this.ui.options.hide(),this.ui.options.filter(".option-"+t).show()},"click @ui.save":function(e){e.preventDefault();let n=this.ui.value.filter(":checked").val();if("redirect"!==n?this.ui.redirect.val("").attr("required",!1):this.ui.redirect.attr("required",!0),this.ui.html.attr("required","html"===n),!this.ui.form[0].checkValidity())return void t('<input type="submit">').hide().appendTo(this.ui.form).click().remove();let r=this,s=this.ui.form.serializeJSON();s.id=this.model.get("id"),this.ui.buttons.prop("disabled",!0).addClass("btn-disabled"),i.Api.Settings.update(s).then(e=>{r.model.set(e),i.UI.closeModal()}).catch(e=>{alert(e.message),this.ui.buttons.prop("disabled",!1).removeClass("btn-disabled")})}},onRender:function(){this.ui.value.trigger("change")}})}).call(this,n(4))},206:function(e,t,n){var r,i,s;
/*!
  SerializeJSON jQuery plugin.
  https://github.com/marioizquierdo/jquery.serializeJSON
  version 2.9.0 (Jan, 2018)

  Copyright (c) 2012-2018 Mario Izquierdo
  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*/i=[n(4)],void 0===(s="function"==typeof(r=function(e){"use strict";e.fn.serializeJSON=function(t){var n,r,i,s,a,l,o,u,c,d,p,m;return n=e.serializeJSON,r=this,i=n.setupOpts(t),s=r.serializeArray(),n.readCheckboxUncheckedValues(s,i,r),a={},e.each(s,(function(e,t){l=t.name,o=t.value,c=n.extractTypeAndNameWithNoType(l),d=c.nameWithNoType,(p=c.type)||(p=n.attrFromInputWithName(r,l,"data-value-type")),n.validateType(l,p,i),"skip"!==p&&(m=n.splitInputNameIntoKeysArray(d),!(u=n.parseValue(o,l,p,i))&&n.shouldSkipFalsy(r,l,d,p,i)||n.deepSet(a,m,u,i))})),a},e.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,skipFalsyValuesForTypes:[],skipFalsyValuesForFields:[],customTypes:{},defaultTypes:{string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return-1===["false","null","undefined","","0"].indexOf(e)},null:function(e){return-1===["false","null","undefined","","0"].indexOf(e)?e:null},array:function(e){return JSON.parse(e)},object:function(e){return JSON.parse(e)},auto:function(t){return e.serializeJSON.parseValue(t,null,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})},skip:null},useIntKeysAsArrayIndex:!1},setupOpts:function(t){var n,r,i,s,a,l;for(n in l=e.serializeJSON,null==t&&(t={}),i=l.defaultOptions||{},r=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","skipFalsyValuesForTypes","skipFalsyValuesForFields","customTypes","defaultTypes","useIntKeysAsArrayIndex"],t)if(-1===r.indexOf(n))throw new Error("serializeJSON ERROR: invalid option '"+n+"'. Please use one of "+r.join(", "));return a=(s=function(e){return!1!==t[e]&&""!==t[e]&&(t[e]||i[e])})("parseAll"),{checkboxUncheckedValue:s("checkboxUncheckedValue"),parseNumbers:a||s("parseNumbers"),parseBooleans:a||s("parseBooleans"),parseNulls:a||s("parseNulls"),parseWithFunction:s("parseWithFunction"),skipFalsyValuesForTypes:s("skipFalsyValuesForTypes"),skipFalsyValuesForFields:s("skipFalsyValuesForFields"),typeFunctions:e.extend({},s("defaultTypes"),s("customTypes")),useIntKeysAsArrayIndex:s("useIntKeysAsArrayIndex")}},parseValue:function(t,n,r,i){var s,a;return s=e.serializeJSON,a=t,i.typeFunctions&&r&&i.typeFunctions[r]?a=i.typeFunctions[r](t):i.parseNumbers&&s.isNumeric(t)?a=Number(t):!i.parseBooleans||"true"!==t&&"false"!==t?i.parseNulls&&"null"==t?a=null:i.typeFunctions&&i.typeFunctions.string&&(a=i.typeFunctions.string(t)):a="true"===t,i.parseWithFunction&&!r&&(a=i.parseWithFunction(a,n)),a},isObject:function(e){return e===Object(e)},isUndefined:function(e){return void 0===e},isValidArrayIndex:function(e){return/^[0-9]+$/.test(String(e))},isNumeric:function(e){return e-parseFloat(e)>=0},optionKeys:function(e){if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)n.push(t);return n},readCheckboxUncheckedValues:function(t,n,r){var i,s,a;null==n&&(n={}),e.serializeJSON,i="input[type=checkbox][name]:not(:checked):not([disabled])",r.find(i).add(r.filter(i)).each((function(r,i){if(s=e(i),null==(a=s.attr("data-unchecked-value"))&&(a=n.checkboxUncheckedValue),null!=a){if(i.name&&-1!==i.name.indexOf("[]["))throw new Error("serializeJSON ERROR: checkbox unchecked values are not supported on nested arrays of objects like '"+i.name+"'. See https://github.com/marioizquierdo/jquery.serializeJSON/issues/67");t.push({name:i.name,value:a})}}))},extractTypeAndNameWithNoType:function(e){var t;return(t=e.match(/(.*):([^:]+)$/))?{nameWithNoType:t[1],type:t[2]}:{nameWithNoType:e,type:null}},shouldSkipFalsy:function(t,n,r,i,s){var a=e.serializeJSON.attrFromInputWithName(t,n,"data-skip-falsy");if(null!=a)return"false"!==a;var l=s.skipFalsyValuesForFields;if(l&&(-1!==l.indexOf(r)||-1!==l.indexOf(n)))return!0;var o=s.skipFalsyValuesForTypes;return null==i&&(i="string"),!(!o||-1===o.indexOf(i))},attrFromInputWithName:function(e,t,n){var r;return r='[name="'+t.replace(/(:|\.|\[|\]|\s)/g,"\\$1")+'"]',e.find(r).add(e.filter(r)).attr(n)},validateType:function(t,n,r){var i,s;if(i=(s=e.serializeJSON).optionKeys(r?r.typeFunctions:s.defaultOptions.defaultTypes),n&&-1===i.indexOf(n))throw new Error("serializeJSON ERROR: Invalid type "+n+" found in input name '"+t+"', please use one of "+i.join(", "));return!0},splitInputNameIntoKeysArray:function(t){var n;return e.serializeJSON,n=t.split("["),""===(n=e.map(n,(function(e){return e.replace(/\]/g,"")})))[0]&&n.shift(),n},deepSet:function(t,n,r,i){var s,a,l,o,u,c;if(null==i&&(i={}),(c=e.serializeJSON).isUndefined(t))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!n||0===n.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");s=n[0],1===n.length?""===s?t.push(r):t[s]=r:(a=n[1],""===s&&(u=t[o=t.length-1],s=c.isObject(u)&&(c.isUndefined(u[a])||n.length>2)?o:o+1),""===a||i.useIntKeysAsArrayIndex&&c.isValidArrayIndex(a)?!c.isUndefined(t[s])&&e.isArray(t[s])||(t[s]=[]):!c.isUndefined(t[s])&&c.isObject(t[s])||(t[s]={}),l=n.slice(1),c.deepSet(t[s],l,r,i))}}})?r.apply(t,i):r)||(e.exports=s)},296:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-content">\r\n    <div class="modal-header">\r\n        <h5 class="modal-title">'+__e(i18n("settings",id))+'</h5>\r\n        <button type="button" class="close cancel" aria-label="Close" data-dismiss="modal">&nbsp;</button>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form>\r\n            <div class="row">\r\n                <div class="col-sm-12 col-md-12">\r\n                    <div class="form-group">\r\n                        <div class="form-label">'+__e(description)+'</div>\r\n                        <div class="custom-controls-stacked">\r\n                            <label class="custom-control custom-radio">\r\n                                <input class="custom-control-input" name="value" value="congratulations" type="radio" required '+__e("congratulations"===value?"checked":"")+'>\r\n                                <div class="custom-control-label">'+__e(i18n("settings","default-site-congratulations"))+'</div>\r\n                            </label>\r\n                            <label class="custom-control custom-radio">\r\n                                <input class="custom-control-input" name="value" value="404" type="radio" required '+__e("404"===value?"checked":"")+'>\r\n                                <div class="custom-control-label">'+__e(i18n("settings","default-site-404"))+'</div>\r\n                            </label>\r\n                            <label class="custom-control custom-radio">\r\n                                <input class="custom-control-input" name="value" value="redirect" type="radio" required '+__e("redirect"===value?"checked":"")+'>\r\n                                <div class="custom-control-label">'+__e(i18n("settings","default-site-redirect"))+'</div>\r\n                            </label>\r\n                            <label class="custom-control custom-radio">\r\n                                <input class="custom-control-input" name="value" value="html" type="radio" required '+__e("html"===value?"checked":"")+'>\r\n                                <div class="custom-control-label">'+__e(i18n("settings","default-site-html"))+'</div>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="col-sm-12 col-md-12 option-item option-redirect">\r\n                    <div class="form-group">\r\n                        <div class="form-label">Redirect to</div>\r\n                        <input class="form-control redirect-input" name="meta[redirect]" placeholder="https://" type="url" value="'+__e(meta&&void 0!==meta.redirect?meta.redirect:"")+'">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="col-sm-12 col-md-12 option-item option-html">\r\n                    <div class="form-group">\r\n                        <div class="form-label">HTML Content</div>\r\n                        <textarea class="form-control text-monospace html-content" name="meta[html]" rows="6" placeholder="\x3c!-- Enter your HTML here --\x3e">'+__e(meta&&void 0!==meta.html?meta.html:"")+'</textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-secondary cancel" data-dismiss="modal">'+__e(i18n("str","cancel"))+'</button>\r\n        <button type="button" class="btn btn-teal save">'+__e(i18n("str","save"))+"</button>\r\n    </div>\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(3))}}]);