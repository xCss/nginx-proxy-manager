(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{189:function(r,n,e){(function(n){const o=e(6),t=e(2),i=e(216),s=e(253);e(206),e(254),e(212),r.exports=o.View.extend({template:s,className:"modal-dialog",ui:{form:"form",forward_ip:'input[name="forward_ip"]',type_error:".forward-type-error",buttons:".modal-footer button",switches:".custom-switch-input",cancel:"button.cancel",save:"button.save"},events:{"change @ui.switches":function(){this.ui.type_error.hide()},"click @ui.save":function(r){if(r.preventDefault(),!this.ui.form[0].checkValidity())return void n('<input type="submit">').hide().appendTo(this.ui.form).click().remove();let e=this,o=this.ui.form.serializeJSON();if(!o.tcp_forwarding&&!o.udp_forwarding)return void this.ui.type_error.show();o.incoming_port=parseInt(o.incoming_port,10),o.forwarding_port=parseInt(o.forwarding_port,10),o.tcp_forwarding=!!o.tcp_forwarding,o.udp_forwarding=!!o.udp_forwarding;let i=t.Api.Nginx.Streams.create,s=!0;this.model.get("id")&&(s=!1,i=t.Api.Nginx.Streams.update,o.id=this.model.get("id")),this.ui.buttons.prop("disabled",!0).addClass("btn-disabled"),i(o).then(r=>{e.model.set(r),t.UI.closeModal((function(){s&&t.Controller.showNginxStream()}))}).catch(r=>{alert(r.message),this.ui.buttons.prop("disabled",!1).removeClass("btn-disabled")})}},onRender:function(){this.ui.forward_ip.mask("099.099.099.099",{clearIfNotMatch:!0,placeholder:"000.000.000.000"})},initialize:function(r){void 0!==r.model&&r.model||(this.model=new i.Model)}})}).call(this,e(4))},216:function(r,n,e){const o=e(5),t=o.Model.extend({idAttribute:"id",defaults:function(){return{id:void 0,created_on:null,modified_on:null,incoming_port:null,forward_ip:null,forwarding_port:null,tcp_forwarding:!0,udp_forwarding:!1,enabled:!0,meta:{},owner:null}}});r.exports={Model:t,Collection:o.Collection.extend({model:t})}},253:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-content">\r\n    <div class="modal-header">\r\n        <h5 class="modal-title">'+__e(i18n("streams","form-title",{id:id}))+'</h5>\r\n        <button type="button" class="close cancel" aria-label="Close" data-dismiss="modal">&nbsp;</button>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form>\r\n            <div class="row">\r\n                <div class="col-sm-12 col-md-12">\r\n                    <div class="form-group">\r\n                        <label class="form-label">'+__e(i18n("streams","incoming-port"))+' <span class="form-required">*</span></label>\r\n                        <input name="incoming_port" type="number" class="form-control text-monospace" placeholder="eg: 8080" value="'+__e(incoming_port)+'" required>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-8 col-md-8">\r\n                    <div class="form-group">\r\n                        <label class="form-label">'+__e(i18n("streams","forward-ip"))+'<span class="form-required">*</span></label>\r\n                        <input type="text" name="forward_ip" class="form-control text-monospace" placeholder="000.000.000.000" value="'+__e(forward_ip)+'" autocomplete="off" maxlength="15" required>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4 col-md-4">\r\n                    <div class="form-group">\r\n                        <label class="form-label">'+__e(i18n("streams","forwarding-port"))+' <span class="form-required">*</span></label>\r\n                        <input name="forwarding_port" type="number" class="form-control text-monospace" placeholder="eg: 80" value="'+__e(forwarding_port)+'" required>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-6 col-md-6">\r\n                    <div class="form-group">\r\n                        <label class="custom-switch">\r\n                            <input type="checkbox" class="custom-switch-input" name="tcp_forwarding" value="1"'+__e(tcp_forwarding?" checked":"")+'>\r\n                            <span class="custom-switch-indicator"></span>\r\n                            <span class="custom-switch-description">'+__e(i18n("streams","tcp-forwarding"))+'</span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-6 col-md-6">\r\n                    <div class="form-group">\r\n                        <label class="custom-switch">\r\n                            <input type="checkbox" class="custom-switch-input" name="udp_forwarding" value="1"'+__e(udp_forwarding?" checked":"")+'>\r\n                            <span class="custom-switch-indicator"></span>\r\n                            <span class="custom-switch-description">'+__e(i18n("streams","udp-forwarding"))+'</span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-12 col-md-12">\r\n                    <div class="forward-type-error invalid-feedback">'+__e(i18n("streams","forward-type-error"))+'</div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-secondary cancel" data-dismiss="modal">'+__e(i18n("str","cancel"))+'</button>\r\n        <button type="button" class="btn btn-teal save">'+__e(i18n("str","save"))+"</button>\r\n    </div>\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(3))}}]);