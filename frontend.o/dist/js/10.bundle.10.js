(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{183:function(e,n,s){(function(n){const t=s(6),a=s(2),r=s(214),i=s(235),o=s(236),l=s(213),c=s(237),d=s(238),p=s(150),_=s(9),u=s(211);s(206),s(212),e.exports=t.View.extend({template:o,className:"modal-dialog",locationsCollection:new i.Collection,ui:{form:"form",domain_names:'input[name="domain_names"]',forward_host:'input[name="forward_host"]',buttons:".modal-footer button",cancel:"button.cancel",save:"button.save",add_location_btn:"button.add_location",locations_container:".locations_container",le_error_info:"#le-error-info",certificate_select:'select[name="certificate_id"]',access_list_select:'select[name="access_list_id"]',ssl_forced:'input[name="ssl_forced"]',hsts_enabled:'input[name="hsts_enabled"]',hsts_subdomains:'input[name="hsts_subdomains"]',http2_support:'input[name="http2_support"]',dns_challenge_switch:'input[name="meta[dns_challenge]"]',dns_challenge_content:".dns-challenge",dns_provider:'select[name="meta[dns_provider]"]',credentials_file_content:".credentials-file-content",dns_provider_credentials:'textarea[name="meta[dns_provider_credentials]"]',propagation_seconds:'input[name="meta[propagation_seconds]"]',forward_scheme:'select[name="forward_scheme"]',letsencrypt:".letsencrypt"},regions:{locations_regions:"@ui.locations_container"},events:{"change @ui.certificate_select":function(){let e=this.ui.certificate_select.val();"new"===e?(this.ui.letsencrypt.show().find("input").prop("disabled",!1),this.ui.dns_challenge_content.hide()):this.ui.letsencrypt.hide().find("input").prop("disabled",!0);let n="new"===e||parseInt(e,10)>0,s=this.ui.ssl_forced.add(this.ui.http2_support);s.prop("disabled",!n).parents(".form-group").css("opacity",n?1:.5),n||s.prop("checked",!1),s.trigger("change")},"change @ui.ssl_forced":function(){let e=this.ui.ssl_forced.prop("checked");this.ui.hsts_enabled.prop("disabled",!e).parents(".form-group").css("opacity",e?1:.5),e||this.ui.hsts_enabled.prop("checked",!1),this.ui.hsts_enabled.trigger("change")},"change @ui.hsts_enabled":function(){let e=this.ui.hsts_enabled.prop("checked");this.ui.hsts_subdomains.prop("disabled",!e).parents(".form-group").css("opacity",e?1:.5),e||this.ui.hsts_subdomains.prop("checked",!1)},"change @ui.dns_challenge_switch":function(){if(this.ui.dns_challenge_switch.prop("checked")){this.ui.dns_provider.prop("required","required");const e=this.ui.dns_provider[0].options[this.ui.dns_provider[0].selectedIndex].value;""!=e&&!1!==u[e].credentials&&this.ui.dns_provider_credentials.prop("required","required"),this.ui.dns_challenge_content.show()}else this.ui.dns_provider.prop("required",!1),this.ui.dns_provider_credentials.prop("required",!1),this.ui.dns_challenge_content.hide()},"change @ui.dns_provider":function(){const e=this.ui.dns_provider[0].options[this.ui.dns_provider[0].selectedIndex].value;""!=e&&!1!==u[e].credentials?(this.ui.dns_provider_credentials.prop("required","required"),this.ui.dns_provider_credentials[0].value=u[e].credentials,this.ui.credentials_file_content.show()):(this.ui.dns_provider_credentials.prop("required",!1),this.ui.credentials_file_content.hide())},"click @ui.add_location_btn":function(e){e.preventDefault();const n=new i.Model;this.locationsCollection.add(n)},"click @ui.save":function(e){if(e.preventDefault(),this.ui.le_error_info.hide(),!this.ui.form[0].checkValidity())return void n('<input type="submit">').hide().appendTo(this.ui.form).click().remove();let s=this,t=this.ui.form.serializeJSON();if(t.locations=[],this.locationsCollection.models.forEach(e=>{t.locations.push(e.toJSON())}),delete t.path,t.forward_port=parseInt(t.forward_port,10),t.block_exploits=!!t.block_exploits,t.caching_enabled=!!t.caching_enabled,t.allow_websocket_upgrade=!!t.allow_websocket_upgrade,t.http2_support=!!t.http2_support,t.hsts_enabled=!!t.hsts_enabled,t.hsts_subdomains=!!t.hsts_subdomains,t.ssl_forced=!!t.ssl_forced,void 0===t.meta&&(t.meta={}),t.meta.letsencrypt_agree=1==t.meta.letsencrypt_agree,t.meta.dns_challenge=1==t.meta.dns_challenge,t.meta.dns_challenge?""===t.meta.propagation_seconds&&(t.meta.propagation_seconds=void 0):(t.meta.dns_provider=void 0,t.meta.dns_provider_credentials=void 0,t.meta.propagation_seconds=void 0),"string"==typeof t.domain_names&&t.domain_names&&(t.domain_names=t.domain_names.split(",")),"new"===t.certificate_id){let e=!1;if(t.meta.dns_challenge||t.domain_names.map((function(n){n.match(/\*/im)&&(e=!0)})),e)return void alert(_("ssl","no-wildcard-without-dns"))}else t.certificate_id=parseInt(t.certificate_id,10);let r=a.Api.Nginx.ProxyHosts.create,i=!0;this.model.get("id")&&(i=!1,r=a.Api.Nginx.ProxyHosts.update,t.id=this.model.get("id")),this.ui.buttons.prop("disabled",!0).addClass("btn-disabled"),this.ui.save.addClass("btn-loading"),r(t).then(e=>{s.model.set(e),a.UI.closeModal((function(){i&&a.Controller.showNginxProxy()}))}).catch(e=>{let n="";if(500===e.code&&e.debug)try{n=JSON.parse(e.debug).debug.stack.join("\n")}catch(e){}this.ui.le_error_info[0].innerHTML=`${e.message}${""!==n?`<pre class="mt-3">${n}</pre>`:""}`,this.ui.le_error_info.show(),this.ui.le_error_info[0].scrollIntoView(),this.ui.buttons.prop("disabled",!1).removeClass("btn-disabled"),this.ui.save.removeClass("btn-loading")})}},templateContext:{getLetsencryptEmail:function(){return a.Cache.User.get("email")},getUseDnsChallenge:function(){return void 0!==this.meta.dns_challenge&&this.meta.dns_challenge},getDnsProvider:function(){return void 0!==this.meta.dns_provider&&""!=this.meta.dns_provider?this.meta.dns_provider:null},getDnsProviderCredentials:function(){return void 0!==this.meta.dns_provider_credentials?this.meta.dns_provider_credentials:""},getPropagationSeconds:function(){return void 0!==this.meta.propagation_seconds?this.meta.propagation_seconds:""},dns_plugins:u},onRender:function(){let e=this;this.ui.ssl_forced.trigger("change"),this.ui.hsts_enabled.trigger("change"),this.ui.domain_names.selectize({delimiter:",",persist:!1,maxOptions:15,create:function(e){return{value:e,text:e}},createFilter:/^(?:\.)?(?:[^.*]+\.?)+[^.]$/}),this.ui.access_list_select.selectize({valueField:"id",labelField:"name",searchField:["name"],create:!1,preload:!0,allowEmptyOption:!0,render:{option:function(e){return e.i18n=a.i18n,e.formatDbDate=p.formatDbDate,c(e)}},load:function(e,n){a.Api.Nginx.AccessLists.getAll(["items","clients"]).then(e=>{n(e)}).catch(e=>{console.error(e),n()})},onLoad:function(){e.ui.access_list_select[0].selectize.setValue(e.model.get("access_list_id"))}}),this.ui.le_error_info.hide(),this.ui.dns_challenge_content.hide(),this.ui.credentials_file_content.hide(),this.ui.letsencrypt.hide(),this.ui.certificate_select.selectize({valueField:"id",labelField:"nice_name",searchField:["nice_name","domain_names"],create:!1,preload:!0,allowEmptyOption:!0,render:{option:function(e){return e.i18n=a.i18n,e.formatDbDate=p.formatDbDate,l(e)}},load:function(e,n){a.Api.Nginx.Certificates.getAll().then(e=>{n(e)}).catch(e=>{console.error(e),n()})},onLoad:function(){e.ui.certificate_select[0].selectize.setValue(e.model.get("certificate_id"))}})},initialize:function(e){void 0!==e.model&&e.model||(this.model=new r.Model),this.locationsCollection=new i.Collection,this.showChildView("locations_regions",new d.LocationCollectionView({collection:this.locationsCollection})),e.model&&Array.isArray(e.model.attributes.locations)&&e.model.attributes.locations.forEach(e=>{let n=new i.Model(e);this.locationsCollection.add(n)})}})}).call(this,s(4))},206:function(e,n,s){var t,a,r;
/*!
  SerializeJSON jQuery plugin.
  https://github.com/marioizquierdo/jquery.serializeJSON
  version 2.9.0 (Jan, 2018)

  Copyright (c) 2012-2018 Mario Izquierdo
  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*/a=[s(4)],void 0===(r="function"==typeof(t=function(e){"use strict";e.fn.serializeJSON=function(n){var s,t,a,r,i,o,l,c,d,p,_,u;return s=e.serializeJSON,t=this,a=s.setupOpts(n),r=t.serializeArray(),s.readCheckboxUncheckedValues(r,a,t),i={},e.each(r,(function(e,n){o=n.name,l=n.value,d=s.extractTypeAndNameWithNoType(o),p=d.nameWithNoType,(_=d.type)||(_=s.attrFromInputWithName(t,o,"data-value-type")),s.validateType(o,_,a),"skip"!==_&&(u=s.splitInputNameIntoKeysArray(p),!(c=s.parseValue(l,o,_,a))&&s.shouldSkipFalsy(t,o,p,_,a)||s.deepSet(i,u,c,a))})),i},e.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,skipFalsyValuesForTypes:[],skipFalsyValuesForFields:[],customTypes:{},defaultTypes:{string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return-1===["false","null","undefined","","0"].indexOf(e)},null:function(e){return-1===["false","null","undefined","","0"].indexOf(e)?e:null},array:function(e){return JSON.parse(e)},object:function(e){return JSON.parse(e)},auto:function(n){return e.serializeJSON.parseValue(n,null,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})},skip:null},useIntKeysAsArrayIndex:!1},setupOpts:function(n){var s,t,a,r,i,o;for(s in o=e.serializeJSON,null==n&&(n={}),a=o.defaultOptions||{},t=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","skipFalsyValuesForTypes","skipFalsyValuesForFields","customTypes","defaultTypes","useIntKeysAsArrayIndex"],n)if(-1===t.indexOf(s))throw new Error("serializeJSON ERROR: invalid option '"+s+"'. Please use one of "+t.join(", "));return i=(r=function(e){return!1!==n[e]&&""!==n[e]&&(n[e]||a[e])})("parseAll"),{checkboxUncheckedValue:r("checkboxUncheckedValue"),parseNumbers:i||r("parseNumbers"),parseBooleans:i||r("parseBooleans"),parseNulls:i||r("parseNulls"),parseWithFunction:r("parseWithFunction"),skipFalsyValuesForTypes:r("skipFalsyValuesForTypes"),skipFalsyValuesForFields:r("skipFalsyValuesForFields"),typeFunctions:e.extend({},r("defaultTypes"),r("customTypes")),useIntKeysAsArrayIndex:r("useIntKeysAsArrayIndex")}},parseValue:function(n,s,t,a){var r,i;return r=e.serializeJSON,i=n,a.typeFunctions&&t&&a.typeFunctions[t]?i=a.typeFunctions[t](n):a.parseNumbers&&r.isNumeric(n)?i=Number(n):!a.parseBooleans||"true"!==n&&"false"!==n?a.parseNulls&&"null"==n?i=null:a.typeFunctions&&a.typeFunctions.string&&(i=a.typeFunctions.string(n)):i="true"===n,a.parseWithFunction&&!t&&(i=a.parseWithFunction(i,s)),i},isObject:function(e){return e===Object(e)},isUndefined:function(e){return void 0===e},isValidArrayIndex:function(e){return/^[0-9]+$/.test(String(e))},isNumeric:function(e){return e-parseFloat(e)>=0},optionKeys:function(e){if(Object.keys)return Object.keys(e);var n,s=[];for(n in e)s.push(n);return s},readCheckboxUncheckedValues:function(n,s,t){var a,r,i;null==s&&(s={}),e.serializeJSON,a="input[type=checkbox][name]:not(:checked):not([disabled])",t.find(a).add(t.filter(a)).each((function(t,a){if(r=e(a),null==(i=r.attr("data-unchecked-value"))&&(i=s.checkboxUncheckedValue),null!=i){if(a.name&&-1!==a.name.indexOf("[]["))throw new Error("serializeJSON ERROR: checkbox unchecked values are not supported on nested arrays of objects like '"+a.name+"'. See https://github.com/marioizquierdo/jquery.serializeJSON/issues/67");n.push({name:a.name,value:i})}}))},extractTypeAndNameWithNoType:function(e){var n;return(n=e.match(/(.*):([^:]+)$/))?{nameWithNoType:n[1],type:n[2]}:{nameWithNoType:e,type:null}},shouldSkipFalsy:function(n,s,t,a,r){var i=e.serializeJSON.attrFromInputWithName(n,s,"data-skip-falsy");if(null!=i)return"false"!==i;var o=r.skipFalsyValuesForFields;if(o&&(-1!==o.indexOf(t)||-1!==o.indexOf(s)))return!0;var l=r.skipFalsyValuesForTypes;return null==a&&(a="string"),!(!l||-1===l.indexOf(a))},attrFromInputWithName:function(e,n,s){var t;return t='[name="'+n.replace(/(:|\.|\[|\]|\s)/g,"\\$1")+'"]',e.find(t).add(e.filter(t)).attr(s)},validateType:function(n,s,t){var a,r;if(a=(r=e.serializeJSON).optionKeys(t?t.typeFunctions:r.defaultOptions.defaultTypes),s&&-1===a.indexOf(s))throw new Error("serializeJSON ERROR: Invalid type "+s+" found in input name '"+n+"', please use one of "+a.join(", "));return!0},splitInputNameIntoKeysArray:function(n){var s;return e.serializeJSON,s=n.split("["),""===(s=e.map(s,(function(e){return e.replace(/\]/g,"")})))[0]&&s.shift(),s},deepSet:function(n,s,t,a){var r,i,o,l,c,d;if(null==a&&(a={}),(d=e.serializeJSON).isUndefined(n))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!s||0===s.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");r=s[0],1===s.length?""===r?n.push(t):n[r]=t:(i=s[1],""===r&&(c=n[l=n.length-1],r=d.isObject(c)&&(d.isUndefined(c[i])||s.length>2)?l:l+1),""===i||a.useIntKeysAsArrayIndex&&d.isValidArrayIndex(i)?!d.isUndefined(n[r])&&e.isArray(n[r])||(n[r]=[]):!d.isUndefined(n[r])&&d.isObject(n[r])||(n[r]={}),o=s.slice(1),d.deepSet(n[r],o,t,a))}}})?t.apply(n,a):t)||(e.exports=r)},211:function(e,n){e.exports={cloudflare:{display_name:"Cloudflare",package_name:"certbot-dns-cloudflare",package_version:"1.8.0",credentials:"# Cloudflare API token\ndns_cloudflare_api_token = 0123456789abcdef0123456789abcdef01234567",full_plugin_name:"dns-cloudflare"},cloudxns:{display_name:"CloudXNS",package_name:"certbot-dns-cloudxns",package_version:"1.8.0",credentials:"dns_cloudxns_api_key = 1234567890abcdef1234567890abcdef\ndns_cloudxns_secret_key = 1122334455667788",full_plugin_name:"dns-cloudxns"},corenetworks:{display_name:"Core Networks",package_name:"certbot-dns-corenetworks",package_version:"0.1.4",credentials:"certbot_dns_corenetworks:dns_corenetworks_username = asaHB12r\ncertbot_dns_corenetworks:dns_corenetworks_password = secure_password",full_plugin_name:"certbot-dns-corenetworks:dns-corenetworks"},cpanel:{display_name:"cPanel",package_name:"certbot-dns-cpanel",package_version:"0.2.2",credentials:"certbot_dns_cpanel:cpanel_url = https://cpanel.example.com:2083\ncertbot_dns_cpanel:cpanel_username = user\ncertbot_dns_cpanel:cpanel_password = hunter2",full_plugin_name:"certbot-dns-cpanel:cpanel"},digitalocean:{display_name:"DigitalOcean",package_name:"certbot-dns-digitalocean",package_version:"1.8.0",credentials:"dns_digitalocean_token = 0000111122223333444455556666777788889999aaaabbbbccccddddeeeeffff",full_plugin_name:"dns-digitalocean"},directadmin:{display_name:"DirectAdmin",package_name:"certbot-dns-directadmin",package_version:"0.0.20",credentials:"directadmin_url = https://my.directadminserver.com:2222\ndirectadmin_username = username\ndirectadmin_password = aSuperStrongPassword",full_plugin_name:"certbot-dns-directadmin:directadmin"},dnsimple:{display_name:"DNSimple",package_name:"certbot-dns-dnsimple",package_version:"1.8.0",credentials:"dns_dnsimple_token = MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAw",full_plugin_name:"dns-dnsimple"},dnsmadeeasy:{display_name:"DNS Made Easy",package_name:"certbot-dns-dnsmadeeasy",package_version:"1.8.0",credentials:"dns_dnsmadeeasy_api_key = 1c1a3c91-4770-4ce7-96f4-54c0eb0e457a\ndns_dnsmadeeasy_secret_key = c9b5625f-9834-4ff8-baba-4ed5f32cae55",full_plugin_name:"dns-dnsmadeeasy"},dnspod:{display_name:"DNSPod",package_name:"certbot-dns-dnspod",package_version:"0.1.0",credentials:'certbot_dns_dnspod:dns_dnspod_email = "DNSPOD-API-REQUIRES-A-VALID-EMAIL"\ncertbot_dns_dnspod:dns_dnspod_api_token = "DNSPOD-API-TOKEN"',full_plugin_name:"certbot-dns-dnspod:dns-dnspod"},google:{display_name:"Google",package_name:"certbot-dns-google",package_version:"1.8.0",credentials:'{\n\t"type": "service_account",\n\t...\n}',full_plugin_name:"dns-google"},hetzner:{display_name:"Hetzner",package_name:"certbot-dns-hetzner",package_version:"1.0.4",credentials:"certbot_dns_hetzner:dns_hetzner_api_token = 0123456789abcdef0123456789abcdef",full_plugin_name:"certbot-dns-hetzner:dns-hetzner"},inwx:{display_name:"INWX",package_name:"certbot-dns-inwx",package_version:"2.1.2",credentials:"certbot_dns_inwx:dns_inwx_url = https://api.domrobot.com/xmlrpc/\ncertbot_dns_inwx:dns_inwx_username = your_username\ncertbot_dns_inwx:dns_inwx_password = your_password\ncertbot_dns_inwx:dns_inwx_shared_secret = your_shared_secret optional",full_plugin_name:"certbot-dns-inwx:dns-inwx"},ispconfig:{display_name:"ISPConfig",package_name:"certbot-dns-ispconfig",package_version:"0.2.0",credentials:"certbot_dns_ispconfig:dns_ispconfig_username = myremoteuser\ncertbot_dns_ispconfig:dns_ispconfig_password = verysecureremoteuserpassword\ncertbot_dns_ispconfig:dns_ispconfig_endpoint = https://localhost:8080",full_plugin_name:"certbot-dns-ispconfig:dns-ispconfig"},isset:{display_name:"Isset",package_name:"certbot-dns-isset",package_version:"0.0.3",credentials:'certbot_dns_isset:dns_isset_endpoint="https://customer.isset.net/api"\ncertbot_dns_isset:dns_isset_token="<token>"',full_plugin_name:"certbot-dns-isset:dns-isset"},linode:{display_name:"Linode",package_name:"certbot-dns-linode",package_version:"1.8.0",credentials:"dns_linode_key = 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ64\ndns_linode_version = [<blank>|3|4]",full_plugin_name:"dns-linode"},luadns:{display_name:"LuaDNS",package_name:"certbot-dns-luadns",package_version:"1.8.0",credentials:"dns_luadns_email = user@example.com\ndns_luadns_token = 0123456789abcdef0123456789abcdef",full_plugin_name:"dns-luadns"},netcup:{display_name:"netcup",package_name:"certbot-dns-netcup",package_version:"1.0.0",credentials:"dns_netcup_customer_id  = 123456\ndns_netcup_api_key      = 0123456789abcdef0123456789abcdef01234567\ndns_netcup_api_password = abcdef0123456789abcdef01234567abcdef0123",full_plugin_name:"certbot-dns-netcup:dns-netcup"},njalla:{display_name:"Njalla",package_name:"certbot-dns-njalla",package_version:"0.0.4",credentials:"certbot_dns_njalla:dns_njalla_token = 0123456789abcdef0123456789abcdef01234567",full_plugin_name:"certbot-dns-njalla:dns-njalla"},nsone:{display_name:"NS1",package_name:"certbot-dns-nsone",package_version:"1.8.0",credentials:"dns_nsone_api_key = MDAwMDAwMDAwMDAwMDAw",full_plugin_name:"dns-nsone"},ovh:{display_name:"OVH",package_name:"certbot-dns-ovh",package_version:"1.8.0",credentials:"dns_ovh_endpoint = ovh-eu\ndns_ovh_application_key = MDAwMDAwMDAwMDAw\ndns_ovh_application_secret = MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAw\ndns_ovh_consumer_key = MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAw",full_plugin_name:"dns-ovh"},powerdns:{display_name:"PowerDNS",package_name:"certbot-dns-powerdns",package_version:"0.2.0",credentials:"certbot_dns_powerdns:dns_powerdns_api_url = https://api.mypowerdns.example.org\ncertbot_dns_powerdns:dns_powerdns_api_key = AbCbASsd!@34",full_plugin_name:"certbot-dns-powerdns:dns-powerdns"},rfc2136:{display_name:"RFC 2136",package_name:"certbot-dns-rfc2136",package_version:"1.8.0",credentials:"# Target DNS server\ndns_rfc2136_server = 192.0.2.1\n# Target DNS port\ndns_rfc2136_port = 53\n# TSIG key name\ndns_rfc2136_name = keyname.\n# TSIG key secret\ndns_rfc2136_secret = 4q4wM/2I180UXoMyN4INVhJNi8V9BCV+jMw2mXgZw/CSuxUT8C7NKKFs AmKd7ak51vWKgSl12ib86oQRPkpDjg==\n# TSIG key algorithm\ndns_rfc2136_algorithm = HMAC-SHA512",full_plugin_name:"dns-rfc2136"},route53:{display_name:"Route 53 (Amazon)",package_name:"certbot-dns-route53",package_version:"1.8.0",credentials:"[default]\naws_access_key_id=AKIAIOSFODNN7EXAMPLE\naws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",full_plugin_name:"dns-route53"},vultr:{display_name:"Vultr",package_name:"certbot-dns-vultr",package_version:"1.0.3",credentials:"certbot_dns_vultr:dns_vultr_key = YOUR_VULTR_API_KEY",full_plugin_name:"certbot-dns-vultr:dns-vultr"}}},213:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+="<div>\r\n    ","new"===id?__p+='\r\n        <div class="title">\r\n            <i class="fe fe-shield text-success"></i> '+__e(i18n("all-hosts","new-cert"))+'\r\n        </div>\r\n        <span class="description">'+__e(i18n("all-hosts","with-le"))+"</span>\r\n    ":id>0?__p+='\r\n        <div class="title">\r\n            <i class="fe fe-shield text-pink"></i> '+__e("other"===provider?nice_name:domain_names.join(", "))+'\r\n        </div>\r\n        <span class="description">'+__e(i18n("ssl",provider))+" &ndash; Expires: "+__e(formatDbDate(expires_on,"Do MMMM YYYY, h:mm a"))+"</span>\r\n    ":__p+='\r\n        <div class="title">\r\n            <i class="fe fe-shield-off text-danger"></i> '+__e(i18n("all-hosts","none"))+'\r\n        </div>\r\n        <span class="description">'+__e(i18n("all-hosts","no-ssl"))+"</span>\r\n    ",__p+="\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(3))},214:function(e,n,s){const t=s(5),a=t.Model.extend({idAttribute:"id",defaults:function(){return{id:void 0,created_on:null,modified_on:null,domain_names:[],forward_scheme:"http",forward_host:"",forward_port:null,access_list_id:0,certificate_id:0,ssl_forced:!1,hsts_enabled:!1,hsts_subdomains:!1,caching_enabled:!1,allow_websocket_upgrade:!1,block_exploits:!1,http2_support:!1,advanced_config:"",enabled:!0,meta:{},owner:null,access_list:null,certificate:null}}});e.exports={Model:a,Collection:t.Collection.extend({model:a})}},235:function(e,n,s){const t=s(5),a=t.Model.extend({idAttribute:"id",defaults:function(){return{opened:!1,path:"",advanced_config:"",forward_scheme:"http",forward_host:"",forward_port:"80"}},toJSON(){const e=Object.assign({},this.attributes);return delete e.opened,e},toggleVisibility:function(){this.save({opened:!this.get("opened")})}});e.exports={Model:a,Collection:t.Collection.extend({model:a})}},236:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="modal-content">\r\n    <div class="modal-header">\r\n        <h5 class="modal-title">'+__e(i18n("proxy-hosts","form-title",{id:id}))+'</h5>\r\n        <button type="button" class="close cancel" aria-label="Close" data-dismiss="modal">&nbsp;</button>\r\n    </div>\r\n    <div class="modal-body has-tabs">\r\n        <div class="alert alert-danger mb-0 rounded-0" id="le-error-info" role="alert"></div>\r\n        <form>\r\n            <ul class="nav nav-tabs" role="tablist">\r\n                <li role="presentation" class="nav-item"><a href="#details" aria-controls="tab1" role="tab" data-toggle="tab" class="nav-link active"><i class="fe fe-zap"></i> '+__e(i18n("all-hosts","details"))+'</a></li>\r\n                <li role="presentation" class="nav-item"><a href="#locations" aria-controls="tab4" role="tab" data-toggle="tab" class="nav-link"><i class="fe fe-layers"></i> '+__e(i18n("all-hosts","locations"))+'</a></li>\r\n                <li role="presentation" class="nav-item"><a href="#ssl-options" aria-controls="tab2" role="tab" data-toggle="tab" class="nav-link"><i class="fe fe-shield"></i> '+__e(i18n("str","ssl"))+'</a></li>\r\n                <li role="presentation" class="nav-item"><a href="#advanced" aria-controls="tab3" role="tab" data-toggle="tab" class="nav-link"><i class="fe fe-settings"></i> '+__e(i18n("all-hosts","advanced"))+'</a></li>\r\n            </ul>\r\n            <div class="tab-content">\r\n\r\n                \x3c!-- Locations --\x3e\r\n                <div class="tab-pane" id="locations">\r\n                    <div class="row">\r\n                        <div class="col-sm-12">\r\n                            <button type="button" class="btn btn-secondary add_location">'+__e(i18n("locations","new_location"))+'</button>\r\n                            <div class="locations_container mt-3"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                \x3c!-- Details --\x3e\r\n                <div role="tabpanel" class="tab-pane active" id="details">\r\n                    <div class="row">\r\n                        <div class="col-sm-12 col-md-12">\r\n                            <div class="form-group">\r\n                                <label class="form-label">'+__e(i18n("all-hosts","domain-names"))+' <span class="form-required">*</span></label>\r\n                                <input type="text" name="domain_names" class="form-control" id="input-domains" value="'+__e(domain_names.join(","))+'" required>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-3 col-md-3">\r\n                            <div class="form-group">\r\n                                <label class="form-label">'+__e(i18n("proxy-hosts","forward-scheme"))+'<span class="form-required">*</span></label>\r\n                                <select name="forward_scheme" class="form-control custom-select" placeholder="http">\r\n                                    <option value="http" '+__e("http"===forward_scheme?"selected":"")+'>http</option>\r\n                                    <option value="https" '+__e("https"===forward_scheme?"selected":"")+'>https</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-5 col-md-5">\r\n                            <div class="form-group">\r\n                                <label class="form-label">'+__e(i18n("proxy-hosts","forward-host"))+'<span class="form-required">*</span></label>\r\n                                <input type="text" name="forward_host" class="form-control text-monospace" placeholder="" value="'+__e(forward_host)+'" autocomplete="off" maxlength="255" required>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-4 col-md-4">\r\n                            <div class="form-group">\r\n                                <label class="form-label">'+__e(i18n("proxy-hosts","forward-port"))+' <span class="form-required">*</span></label>\r\n                                <input name="forward_port" type="number" class="form-control text-monospace" placeholder="80" value="'+__e(forward_port)+'" required>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-6 col-md-6">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="caching_enabled" value="1"'+__e(caching_enabled?" checked":"")+'>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+__e(i18n("all-hosts","caching-enabled"))+'</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-6 col-md-6">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="block_exploits" value="1"'+__e(block_exploits?" checked":"")+'>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+__e(i18n("all-hosts","block-exploits"))+'</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-12 col-md-12">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="allow_websocket_upgrade" value="1"'+__e(allow_websocket_upgrade?" checked":"")+'>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+__e(i18n("proxy-hosts","allow-websocket-upgrade"))+'</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="col-sm-12 col-md-12">\r\n                            <div class="form-group">\r\n                                <label class="form-label">'+__e(i18n("proxy-hosts","access-list"))+'</label>\r\n                                <select name="access_list_id" class="form-control custom-select" placeholder="'+__e(i18n("access-lists","public"))+'">\r\n                                    <option selected value="0" data-data="{&quot;id&quot;:0}" '+__e(access_list_id?"":"selected")+">"+__e(i18n("access-lists","public"))+'</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                \x3c!-- SSL --\x3e\r\n                <div role="tabpanel" class="tab-pane" id="ssl-options">\r\n                    <div class="row">\r\n                        <div class="col-sm-12 col-md-12">\r\n                            <div class="form-group">\r\n                                <label class="form-label">'+__e(i18n("all-hosts","ssl-certificate"))+'</label>\r\n                                <select name="certificate_id" class="form-control custom-select" placeholder="'+__e(i18n("all-hosts","none"))+'">\r\n                                    <option selected value="0" data-data="{&quot;id&quot;:0}" '+__e(certificate_id?"":"selected")+">"+__e(i18n("all-hosts","none"))+'</option>\r\n                                    <option selected value="new" data-data="{&quot;id&quot;:&quot;new&quot;}">'+__e(i18n("all-hosts","new-cert"))+'</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-6 col-md-6">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="ssl_forced" value="1"'+__e(ssl_forced?" checked":"")+__e(certificate_id?"":" disabled")+'>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+__e(i18n("all-hosts","force-ssl"))+'</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-6 col-md-6">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="http2_support" value="1"'+__e(http2_support?" checked":"")+__e(certificate_id?"":" disabled")+'>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+__e(i18n("all-hosts","http2-support"))+'</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-6 col-md-6">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="hsts_enabled" value="1"'+__e(hsts_enabled?" checked":"")+__e(certificate_id&&ssl_forced?"":" disabled")+'>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+__e(i18n("all-hosts","hsts-enabled"))+' <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank"><i class="fe fe-help-circle"></i></a></span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-6 col-md-6">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="hsts_subdomains" value="1"'+__e(hsts_subdomains?" checked":"")+__e(certificate_id&&ssl_forced&&hsts_enabled?"":" disabled")+'>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+__e(i18n("all-hosts","hsts-subdomains"))+'</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \x3c!-- DNS challenge --\x3e\r\n                        <div class="col-sm-12 col-md-12 letsencrypt">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input \r\n                                        type="checkbox" \r\n                                        class="custom-switch-input" \r\n                                        name="meta[dns_challenge]" \r\n                                        value="1" \r\n                                        '+__e(getUseDnsChallenge()?"checked":"")+'\r\n                                    >\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+(null==(__t=i18n("ssl","dns-challenge"))?"":__t)+'</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-12 col-md-12 letsencrypt">\r\n                            <fieldset class="form-fieldset dns-challenge">\r\n                                <div class="text-red mb-4"><i class="fe fe-alert-triangle"></i> '+(null==(__t=i18n("ssl","certbot-warning"))?"":__t)+'</div>\r\n\r\n                                \x3c!-- Certbot DNS plugin selection --\x3e\r\n                                <div class="row">\r\n                                    <div class="col-sm-12 col-md-12">\r\n                                        <div class="form-group">\r\n                                            <label class="form-label">'+__e(i18n("ssl","dns-provider"))+' <span class="form-required">*</span></label>\r\n                                            <select \r\n                                                name="meta[dns_provider]" \r\n                                                id="dns_provider"\r\n                                                class="form-control custom-select"\r\n                                            >\r\n                                                <option \r\n                                                    value="" \r\n                                                    disabled \r\n                                                    hidden\r\n                                                    '+__e(null===getDnsProvider()?"selected":"")+"\r\n                                                >Please Choose...</option>\r\n                                                ",_.each(dns_plugins,(function(e,n){__p+='\r\n                                                <option \r\n                                                    value="'+__e(n)+'"\r\n                                                    '+__e(getDnsProvider()===n?"selected":"")+"\r\n                                                >"+__e(e.display_name)+"</option>\r\n                                                "})),__p+='\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                \x3c!-- Certbot credentials file content --\x3e\r\n                                <div class="row credentials-file-content">\r\n                                    <div class="col-sm-12 col-md-12">\r\n                                        <div class="form-group">\r\n                                            <label class="form-label">'+__e(i18n("ssl","credentials-file-content"))+' <span class="form-required">*</span></label>\r\n                                            <textarea \r\n                                                name="meta[dns_provider_credentials]" \r\n                                                class="form-control text-monospace" \r\n                                                id="dns_provider_credentials" \r\n                                            >'+__e(getDnsProviderCredentials())+'</textarea>\r\n                                            <div class="text-secondary small">\r\n                                                <i class="fe fe-info"></i> \r\n                                                '+(null==(__t=i18n("ssl","credentials-file-content-info"))?"":__t)+'\r\n                                            </div>\r\n                                            <div class="text-red small">\r\n                                                <i class="fe fe-alert-triangle"></i> \r\n                                                '+(null==(__t=i18n("ssl","stored-as-plaintext-info"))?"":__t)+'\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                \x3c!-- DNS propagation delay --\x3e\r\n                                <div class="row">\r\n                                    <div class="col-sm-12 col-md-12">\r\n                                        <div class="form-group mb-0">\r\n                                            <label class="form-label">'+__e(i18n("ssl","propagation-seconds"))+'</label>\r\n                                            <input \r\n                                                type="number"\r\n                                                min="0"\r\n                                                name="meta[propagation_seconds]" \r\n                                                class="form-control" \r\n                                                id="propagation_seconds" \r\n                                                value="'+__e(getPropagationSeconds())+'"\r\n                                            >\r\n                                            <div class="text-secondary small">\r\n                                                <i class="fe fe-info"></i> \r\n                                                '+(null==(__t=i18n("ssl","propagation-seconds-info"))?"":__t)+'\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </fieldset>\r\n                        </div>\r\n\r\n                        \x3c!-- Lets encrypt --\x3e\r\n                        <div class="col-sm-12 col-md-12 letsencrypt">\r\n                            <div class="form-group">\r\n                                <label class="form-label">'+__e(i18n("ssl","letsencrypt-email"))+' <span class="form-required">*</span></label>\r\n                                <input name="meta[letsencrypt_email]" type="email" class="form-control" placeholder="" value="'+__e(getLetsencryptEmail())+'" required disabled>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-12 col-md-12 letsencrypt">\r\n                            <div class="form-group">\r\n                                <label class="custom-switch">\r\n                                    <input type="checkbox" class="custom-switch-input" name="meta[letsencrypt_agree]" value="1" required disabled>\r\n                                    <span class="custom-switch-indicator"></span>\r\n                                    <span class="custom-switch-description">'+(null==(__t=i18n("ssl","letsencrypt-agree",{url:"https://letsencrypt.org/repository/"}))?"":__t)+' <span class="form-required">*</span></span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                \x3c!-- Advanced --\x3e\r\n                <div role="tabpanel" class="tab-pane" id="advanced">\r\n                    <div class="row">\r\n                        <div class="col-md-12">\r\n                            <p>Nginx variables available to you are:</p>\r\n                            <ul class="text-monospace">\r\n                                <li>$server          # Host/IP</li>\r\n                                <li>$port            # Port Number</li>\r\n                                <li>$forward_scheme  # http or https</li>\r\n                            </ul>\r\n                            <div class="form-group mb-0">\r\n                                <label class="form-label">'+__e(i18n("all-hosts","advanced-config"))+'</label>\r\n                                <textarea name="advanced_config" rows="8" class="form-control text-monospace" placeholder="# '+__e(i18n("all-hosts","advanced-warning"))+'">'+__e(advanced_config)+'</textarea>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-secondary cancel" data-dismiss="modal">'+__e(i18n("str","cancel"))+'</button>\r\n        <button type="button" class="btn btn-teal save">'+__e(i18n("str","save"))+"</button>\r\n    </div>\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(3))},237:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+="<div>\r\n    ",id>0?__p+='\r\n        <div class="title">\r\n            <i class="fe fe-lock text-teal"></i> '+__e(name)+'\r\n        </div>\r\n        <span class="description">'+__e(i18n("access-lists","item-count",{count:items.length||0}))+", "+__e(i18n("access-lists","client-count",{count:clients.length||0}))+" &ndash; Created: "+__e(formatDbDate(created_on,"Do MMMM YYYY, h:mm a"))+"</span>\r\n    ":__p+='\r\n        <div class="title">\r\n            <i class="fe fe-unlock text-yellow"></i> '+__e(i18n("access-lists","public"))+'\r\n        </div>\r\n        <span class="description">'+__e(i18n("access-lists","public-sub"))+"</span>\r\n    ",__p+="\r\n</div>\r\n";return __p}}).call(this,__webpack_require__(3))},238:function(e,n,s){(function(n){const t=s(239),a=s(6),r=s(2),i=a.View.extend({template:t,className:"location_block",ui:{toggle:'input[type="checkbox"]',config:".config",delete:".location-delete"},events:{"change @ui.toggle":function(e){e.target.checked?this.ui.config.show():this.ui.config.hide()},"change .model":function(e){const n={};n[e.target.name]=e.target.value,this.model.set(n)},"click @ui.delete":function(){this.model.destroy()}},onRender:function(){n(this.ui.config).hide()},templateContext:function(){return{i18n:r.i18n}}}),o=a.CollectionView.extend({className:"locations_container",childView:i});e.exports={LocationCollectionView:o,LocationView:i}}).call(this,s(4))},239:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="location-block card">\r\n    <div class="card-body">\r\n        <div class="row">\r\n            <div class="col-sm-12">\r\n                <div class="form-group">\r\n                    <label class="form-label">'+__e(i18n("locations","location_label"))+' <span class="form-required">*</span></label>\r\n                    <div class="row gutter-xs">\r\n                        <div class="col">\r\n                            <div class="input-group">\r\n                                <span class="input-group-prepend">\r\n                                    <span class="input-group-text">location</span>\r\n                                </span>\r\n                                <input type="text" name="path" class="form-control model" value="'+__e(path)+'" placeholder="'+__e(i18n("locations","path"))+'" required>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-auto">\r\n                            <div class="selectgroup">\r\n                                <label class="selectgroup-item">\r\n                                    <input type="checkbox" class="selectgroup-input">\r\n                                    <span class="selectgroup-button">\r\n                                        <i class="fe fe-settings"></i>\r\n                                    </span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-3 col-md-3">\r\n                <div class="form-group">\r\n                    <label class="form-label">'+__e(i18n("proxy-hosts","forward-scheme"))+'<span class="form-required">*</span></label>\r\n                    <select name="forward_scheme" class="form-control custom-select model" placeholder="http">\r\n                        <option value="http" '+__e("http"===forward_scheme?"selected":"")+'>http</option>\r\n                        <option value="https" '+__e("https"===forward_scheme?"selected":"")+'>https</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-5 col-md-5">\r\n                <div class="form-group">\r\n                    <label class="form-label">'+__e(i18n("proxy-hosts","forward-host"))+'<span class="form-required">*</span></label>\r\n                    <input type="text" name="forward_host" class="form-control text-monospace model" placeholder="" value="'+__e(forward_host)+'" autocomplete="off" maxlength="200" required>\r\n                    <span style="font-size: 9px;">'+__e(i18n("proxy-hosts","custom-forward-host-help"))+'</span>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4 col-md-4">\r\n                <div class="form-group">\r\n                    <label class="form-label">'+__e(i18n("proxy-hosts","forward-port"))+' <span class="form-required">*</span></label>\r\n                    <input name="forward_port" type="number" class="form-control text-monospace model" placeholder="80" value="'+__e(forward_port)+'" required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row config">\r\n            <div class="col-md-12">\r\n                <div class="form-group">\r\n                    <textarea name="advanced_config" rows="8" class="form-control text-monospace model" placeholder="# '+__e(i18n("all-hosts","advanced-warning"))+'">'+__e(advanced_config)+'</textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <a href="#" class="card-link location-delete">\r\n            <i class="fa fa-trash"></i> '+__e(i18n("locations","delete"))+"\r\n        </a>\r\n    </div>\r\n</div>    \r\n";return __p}}).call(this,__webpack_require__(3))}}]);